{"ast":null,"code":"import { io } from 'socket.io-client';\nlet socket = null;\nexport const connectSocket = () => {\n  if (!socket) {\n    socket = io(process.env.REACT_APP_SERVER_URL || 'http://localhost:5000', {\n      auth: {\n        token: localStorage.getItem('token')\n      },\n      transports: ['websocket']\n    });\n    socket.on('connect', () => {\n      console.log('Socket connected:', socket.id);\n    });\n    socket.on('disconnect', () => {\n      console.log('Socket disconnected');\n    });\n  }\n  return socket;\n};\nexport const getSocket = () => socket;\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n};\nexport const joinGroup = groupId => {\n  if (socket) socket.emit('join-group', groupId);\n};\nexport const leaveGroup = groupId => {\n  if (socket) socket.emit('leave-group', groupId);\n};","map":{"version":3,"names":["io","socket","connectSocket","process","env","REACT_APP_SERVER_URL","auth","token","localStorage","getItem","transports","on","console","log","id","getSocket","disconnectSocket","disconnect","joinGroup","groupId","emit","leaveGroup"],"sources":["/Users/rajput/Downloads/splitwise-plus/frontend/src/services/socket.js"],"sourcesContent":["import { io } from 'socket.io-client';\n\nlet socket = null;\n\nexport const connectSocket = () => {\n  if (!socket) {\n    socket = io(process.env.REACT_APP_SERVER_URL || 'http://localhost:5000', {\n      auth: { token: localStorage.getItem('token') },\n      transports: ['websocket'],\n    });\n\n    socket.on('connect', () => {\n      console.log('Socket connected:', socket.id);\n    });\n\n    socket.on('disconnect', () => {\n      console.log('Socket disconnected');\n    });\n  }\n  return socket;\n};\n\nexport const getSocket = () => socket;\n\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n};\n\nexport const joinGroup = (groupId) => {\n  if (socket) socket.emit('join-group', groupId);\n};\n\nexport const leaveGroup = (groupId) => {\n  if (socket) socket.emit('leave-group', groupId);\n};\n"],"mappings":"AAAA,SAASA,EAAE,QAAQ,kBAAkB;AAErC,IAAIC,MAAM,GAAG,IAAI;AAEjB,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAM;EACjC,IAAI,CAACD,MAAM,EAAE;IACXA,MAAM,GAAGD,EAAE,CAACG,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,uBAAuB,EAAE;MACvEC,IAAI,EAAE;QAAEC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;MAAE,CAAC;MAC9CC,UAAU,EAAE,CAAC,WAAW;IAC1B,CAAC,CAAC;IAEFT,MAAM,CAACU,EAAE,CAAC,SAAS,EAAE,MAAM;MACzBC,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEZ,MAAM,CAACa,EAAE,CAAC;IAC7C,CAAC,CAAC;IAEFb,MAAM,CAACU,EAAE,CAAC,YAAY,EAAE,MAAM;MAC5BC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IACpC,CAAC,CAAC;EACJ;EACA,OAAOZ,MAAM;AACf,CAAC;AAED,OAAO,MAAMc,SAAS,GAAGA,CAAA,KAAMd,MAAM;AAErC,OAAO,MAAMe,gBAAgB,GAAGA,CAAA,KAAM;EACpC,IAAIf,MAAM,EAAE;IACVA,MAAM,CAACgB,UAAU,CAAC,CAAC;IACnBhB,MAAM,GAAG,IAAI;EACf;AACF,CAAC;AAED,OAAO,MAAMiB,SAAS,GAAIC,OAAO,IAAK;EACpC,IAAIlB,MAAM,EAAEA,MAAM,CAACmB,IAAI,CAAC,YAAY,EAAED,OAAO,CAAC;AAChD,CAAC;AAED,OAAO,MAAME,UAAU,GAAIF,OAAO,IAAK;EACrC,IAAIlB,MAAM,EAAEA,MAAM,CAACmB,IAAI,CAAC,aAAa,EAAED,OAAO,CAAC;AACjD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}